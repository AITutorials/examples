


### 问题背景


这是出现在某聘公司面试中的问题。可见该公司可能在某些业务中正在使用BERT模型，并希望通过该问题验证面试者对BERT模型的了解程度，以及是否能够清晰阐述该模型的训练过程。

---

![avatar](https://github.com/AITutorials/manuals/blob/master/img/bert1.png)

---

### 解题思路


#### 第一步: 找出核心知识点并解析

* BERT模型:
>	* BERT也称双向Transformer编码器，它是由Transformer为基本单元构成的双向网络结构。BERT模型的创新点在于开启了迁移学习的篇章，它能够提供Masked LM，Next Sentence Prediction以及Question Answering任务的预训练模型，以增强在有限数据集下fine-tuning这些任务的效果。 

---

* 大型模型在推断过程中的优化措施:
>	* 1，对训练完成的模型进行量化，包括动态量化和静态量化
>	* 2，对训练完成的模型进行剪枝
>	* 3，使用量化意识训练
>	* 4，拓展硬件资源，使用分布式或GPU加速

---

#### 第二步: 整合核心知识点形成答案


* 在我们的项目中，对训练后的BERT模型采用动态量化技术来优化推断性能，将模型参数由FLOAT32量化为INT8，理论上参数量大小减少4倍，实际工程中减小约3.5倍(由420M到120M)，单条数据的平均推断时间由原来的380ms减小到85ms，当然，模型在验证集上的acc指标也下降了约两个百分点，这是在可接受范围之内的。（动态量化是最简单方便的推断性能优化方法）

---

<!--

### 问题拓展

* 说一说如何优提升BERT模型的训练速度
* 简述动态量化与静态量化之间的差别


---

-->
